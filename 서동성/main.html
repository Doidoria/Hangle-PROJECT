<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>hangle · 메인</title>
<style>
  /* ========= Design Tokens: Light (default) ========= */
  :root{
    --bg:#F9FAF7;
    --text:#1C1C1C;
    --muted:#6B7280;
    --primary:#10B981;
    --primary-hover:#059669;
    --surface:#FFFFFF;
    --border:#E6E9E6;
    --badge:#EAF7F1;
    --nav:#FFFFFF;
    --ring: rgba(16,185,129,.15);
    --shadow:0 10px 24px rgba(0,0,0,.06);
    --chart-grad: linear-gradient(90deg,#d1fae5 0%,#a7f3d0 50%,#6ee7b7 100%);
    --icon-muted:#64748B;
    --logo:#0f766e; /* 로고색 */
  }

  /* ========= Design Tokens: Dark ========= */
  .theme-dark{
    --bg:#1E293B;
    --text:#F8FAFC;
    --muted:#94A3B8;
    --primary:#10B981;
    --primary-hover:#34D399;
    --surface:#273549;
    --border:#334155;
    --badge:#0b3b32;
    --nav:#1E293B;
    --ring: rgba(20,184,166,.25);
    --shadow: 0 8px 20px rgba(0,0,0,.35);
    --chart-grad: linear-gradient(90deg,#065f46 0%,#10b981 50%,#34d399 100%);
    --icon-muted:#94A3B8;
    --logo:#34D399;
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    background:var(--bg);
    color:var(--text);
    font:14px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  }

  /* ========= Layout ========= */
  .layout{
    display:grid;
    grid-template-columns: 236px 1fr;
    grid-template-rows: 64px 1fr auto;
    grid-template-areas:
      "sidebar topbar"
      "sidebar main"
      "sidebar footer";
    min-height:100vh;
  }

  /* ========= Sidebar ========= */
  .sidebar{
    grid-area:sidebar;
    position:sticky; top:0; height:100vh;
    background:var(--nav);
    border-right:1px solid var(--border);
    padding:12px 12px 16px;
  }
  .logo{
    display:flex; 
    align-items:center; 
    gap:10px;
    font-weight:900; 
    font-size:22px; 
    letter-spacing:.2px;
    padding:12px 10px 16px; 
    margin-bottom:6px;
    color:var(--logo);
  }
  .logo .dot{
    width:9px;
    height:9px;
    border-radius:999px;
    background:var(--primary)
  }
  .nav-group{margin-top:8px}
  .nav-item{
    display:flex; 
    align-items:center; 
    gap:10px;
    padding:10px 12px; 
    border-radius:10px; 
    cursor:pointer;
    color:var(--text); 
    text-decoration:none; 
    font-weight:600;
  }
  .nav-item:hover{background:var(--badge)}
  .nav-item svg{width:18px;height:18px}
  .nav-create{
    width: 200px;
    height:100px;
    margin:8px 0 12px;
    background:var(--primary); color:#fff;
    border-radius:10px; padding:8px 10px;  /* 작게 */
    font-weight:800;
    display:flex; 
    align-items:center; 
    gap:8px; 
    text-decoration:none;
    width:max-content;
  }
  .nav-create:hover{background:var(--primary-hover)}

  /* ========= Topbar ========= */
  .topbar{
    grid-area:topbar;
    position:sticky; top:0; z-index:10;
    background:var(--nav);
    border-bottom:1px solid var(--border);
    display:flex; align-items:center; gap:14px;
    padding:12px 18px;
  }
  .search{flex:1; max-width:820px; position:relative;}
  .search input{
    width:100%; height:40px; border-radius:999px;
    border:1px solid var(--border); background:var(--surface); color:var(--text);
    padding:0 120px 0 40px; outline:none;
  }
  .search input::placeholder{color:var(--muted)}
  .search input:focus{border-color:var(--primary); box-shadow:0 0 0 3px var(--ring)}
  .search .icon{
    position:absolute; left:12px; top:50%; transform:translateY(-50%); color:var(--icon-muted);
  }
  .search .kbd{
    position:absolute; right:12px; top:50%; transform:translateY(-50%);
    font-size:12px; color:var(--icon-muted);
    background:rgba(0,0,0,.04); border:1px solid var(--border);
    border-radius:6px; padding:2px 6px;
  }

  .top-actions{
    margin-left:auto;                     /* 오른쪽 끝으로 붙이기 */
    display:flex; align-items:center; gap:10px;
  }

  .toggle{
    height:34px; padding:0 10px; border-radius:999px; border:1px solid var(--border);
    background:var(--surface); cursor:pointer; display:flex; align-items:center; gap:6px;
    color:var(--text); font-weight:700;
  }
  .toggle svg{width:16px; height:16px}

  .profile-btn{
    width:34px; height:34px; border-radius:50%;
    border:1px solid var(--border); background:var(--surface); cursor:pointer;
    display:flex; align-items:center; justify-content:center; overflow:hidden;
  }
  .avatar{
    width:100%; height:100%; display:flex; align-items:center; justify-content:center;
    font-weight:800; color:#0f766e; background:var(--badge);
  }
  .login-btn{
    height:34px; padding:0 12px; border-radius:10px; border:1px solid var(--border);
    background:var(--surface); cursor:pointer; font-weight:800;
  }
  .login-btn:hover{box-shadow:0 0 0 3px var(--ring)}

  /* ========= Main ========= */
  .main{grid-area:main; padding:24px 28px 60px;}

  .welcome{
    display:flex; align-items:flex-end; justify-content:space-between; flex-wrap:wrap; gap:12px;
    margin-bottom:18px;
  }
  .welcome h1{margin:0; font-size:30px; letter-spacing:.2px}
  .welcome p{margin:4px 0 0; color:var(--muted)}

  .stats{
    display:grid; gap:12px; grid-template-columns:repeat(6, minmax(120px,1fr));
    margin:14px 0 24px;
  }
  .tile{
    background:var(--surface); border:1px solid var(--border); border-radius:14px;
    padding:14px; box-shadow:var(--shadow);
  }
  .tile h4{margin:0 0 8px; font-size:13px; color:#0b3f35}
  .theme-dark .tile h4{color:#9AE6B4}
  .tile .num{font-size:22px; font-weight:900}
  .tile .sub{font-size:12px; color:var(--muted)}

  .grid{
    display:grid; gap:16px; grid-template-columns:repeat(auto-fit, minmax(260px,1fr));
  }
  .card{
    background:var(--surface); border:1px solid var(--border); border-radius:14px; padding:16px; box-shadow:var(--shadow);
  }
  .card h3{margin:0 0 8px}
  .muted{color:var(--muted)}
  .badge{
    display:inline-flex; align-items:center; gap:6px;
    background:var(--badge); color:#065f46; border-radius:999px;
    padding:4px 10px; font-weight:800; font-size:12px; margin-bottom:8px;
  }
  .theme-dark .badge{color:#34D399}

  a.link{color:var(--primary); text-decoration:none; font-weight:700}
  a.link:hover{text-decoration:underline}

  .field{margin-bottom:10px}
  input[type="email"], input[type="password"]{
    width:100%; padding:10px 12px; border:1px solid var(--border); border-radius:10px;
    background:var(--surface); color:var(--text);
  }
  input:focus{border-color:var(--primary); outline:none; box-shadow:0 0 0 3px var(--ring)}

  .btn{
    background:var(--primary); color:#fff; border:none; border-radius:10px; padding:10px 14px; font-weight:800; cursor:pointer; transition:.15s;
  }
  .btn:hover{background:var(--primary-hover); transform:translateY(-1px)}

  .chart{
    height:120px; border-radius:12px; border:1px solid var(--border);
    background:var(--chart-grad);
  }

  /* ========= Footer ========= */
  footer{
    grid-area:footer;
    border-top:1px solid var(--border);
    background:var(--nav);
    padding:24px 28px;
    color:var(--muted);
  }
  .footer-wrap{max-width:1200px; margin:0 auto}
  .footer-grid{
    display:grid; gap:16px; grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
    margin-bottom:12px;
  }
  .footer-col h4{margin:0 0 8px; color:var(--text); font-size:14px}
  .footer-col a{display:block; color:var(--muted); text-decoration:none; padding:4px 0}
  .footer-col a:hover{color:var(--text); text-decoration:underline}
  .copyright{font-size:12px; color:var(--muted)}

  /* 반응형 */
  @media (max-width:1024px){ .stats{grid-template-columns:repeat(3, 1fr)} }
  @media (max-width:720px){
    .layout{grid-template-columns: 64px 1fr}
    .sidebar{padding:10px 8px}
    .logo span.name{display:none}
    .nav-item span{display:none}
    .nav-item{justify-content:center}
    .search .kbd{display:none}
  }
</style>
</head>
<body>
<div class="layout">
  <!-- ===== Sidebar ===== -->
  <aside class="sidebar" aria-label="왼쪽 내비게이션">
    <div class="logo" aria-label="로고">
      <span class="dot" aria-hidden="true"></span>
      <span class="name">hangle</span>
    </div>

    <a class="nav-create" href="#">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M12 5v14M5 12h14"/></svg>
      만들기
    </a>

    <nav class="nav-group">
      <a class="nav-item" href="#">
        <!-- trophy -->
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M8 21h8M12 17v4M7 4h10v3a5 5 0 1 0 0-10H7a5 5 0 1 0 0 10V4Z"/></svg>
        <span>대회</span>
      </a>
      <a class="nav-item" href="#">
        <!-- chat -->
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a4 4 0 0 1-4 4H8l-5 4V7a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4z"/></svg>
        <span>커뮤니티</span>
      </a>
    </nav>
  </aside>

  <!-- ===== Topbar ===== -->
  <header class="topbar" aria-label="상단바">
    <div class="search" role="search">
      <span class="icon" aria-hidden="true">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="7"/><path d="M21 21l-4.3-4.3"/></svg>
      </span>
      <input type="search" placeholder="검색 (데이터셋, 대회, 사용자…)" aria-label="검색" />
      <span class="kbd">/</span>
    </div>

    <div class="top-actions">
      <!-- Dark/Light Toggle -->
      <button id="themeToggle" class="toggle" aria-label="다크 모드 전환">
        <svg id="icon-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
        <svg id="icon-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:none"><circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>
        <span id="modeLabel">다크</span>
      </button>

      <!-- 로그인/프로필 (상태에 따라 토글) -->
      <button id="loginBtn" class="login-btn" aria-label="로그인" style="display:none">로그인</button>
      <button id="profileBtn" class="profile-btn" aria-label="프로필로 이동" style="display:none">
        <div class="avatar">SD</div>
      </button>
    </div>
  </header>

  <!-- ===== Main ===== -->
  <main class="main">
    <section class="welcome">
      <div>
        <h1>어서 오세요, 서동성님!</h1>
        <p>데이터 시각화 · 커뮤니티 · 대회 정보를 한 곳에서 관리하세요.</p>
      </div>
    </section>

    <!-- 요약 지표 -->
    <section class="stats" aria-label="요약 지표">
      <div class="tile"><h4>데이터셋</h4><div class="num">0</div><div class="sub">전체 생성</div></div>
      <div class="tile"><h4>노트북</h4><div class="num">3</div><div class="sub">전체 생성</div></div>
      <div class="tile"><h4>대회</h4><div class="num">0</div><div class="sub">참가 수</div></div>
      <div class="tile"><h4>토론</h4><div class="num">0</div><div class="sub">작성 수</div></div>
      <div class="tile"><h4>강좌</h4><div class="num">0</div><div class="sub">완료 수</div></div>
      <div class="tile"><h4>연속 접속</h4><div class="num">2</div><div class="sub">일</div></div>
    </section>

    <!-- 시작 카드 -->
    <section class="grid" aria-label="추천 섹션">
      <article class="card">
        <span class="badge">가이드</span>
        <h3>대회 참여 방법</h3>
        <p class="muted">규칙, 평가 지표, 제출 형식을 빠르게 이해해보세요.</p>
        <a class="link" href="#">자세히 보기</a>
      </article>

      <article class="card" id="authCard">
        <h3>로그인 / 회원가입</h3>
        <div class="field">
          <label for="email" class="muted">이메일</label>
          <input id="email" type="email" placeholder="you@example.com" />
        </div>
        <div class="field">
          <label for="pw" class="muted">비밀번호</label>
          <input id="pw" type="password" placeholder="••••••••" />
        </div>
        <button class="btn" style="width:100%" onclick="mockLogin()">로그인</button>
      </article>

      <article class="card">
        <h3>샘플 차트</h3>
        <div class="chart" aria-hidden="true"></div>
        <p class="muted" style="margin-top:8px">차트/카드 대비를 확인하는 더미 요소입니다.</p>
      </article>

      <!-- 스크롤을 위한 추가 카드들 -->
      <article class="card">
        <span class="badge">추천 대회</span>
        <h3>이미지 분류 챌린지</h3>
        <p class="muted">CNN · Transfer Learning · 제출 마감 D-12</p>
        <a class="link" href="#">참가하기</a>
      </article>

      <article class="card">
        <span class="badge">인기 데이터셋</span>
        <h3>서울시 교통량 통계</h3>
        <p class="muted">월별/노선별 집계 · 시각화 예제 포함</p>
        <a class="link" href="#">데이터 보기</a>
      </article>

      <article class="card">
        <span class="badge">커뮤니티</span>
        <h3>초보자를 위한 EDA 팁</h3>
        <p class="muted">결측치 처리, 이상치 탐지, 시각화 모범 예시</p>
        <a class="link" href="#">토론 참여</a>
      </article>

      <article class="card">
        <span class="badge">가이드</span>
        <h3>대회 제출 체크리스트</h3>
        <ul class="muted" style="margin:6px 0 0 18px">
          <li>파일 포맷/컬럼명 확인</li>
          <li>스코어 산식 일치 여부</li>
          <li>베이스라인과 비교</li>
        </ul>
      </article>

      <article class="card">
        <span class="badge">코스</span>
        <h3>파이썬으로 시작하는 머신러닝</h3>
        <p class="muted">기초 문법 → Pandas → 모델링까지</p>
        <a class="link" href="#">수강하기</a>
      </article>

      <article class="card">
        <h3>리더보드 살펴보기</h3>
        <p class="muted">상위권 노트북의 전처리/모델 설정을 비교해 보세요.</p>
        <a class="link" href="#">리더보드 이동</a>
      </article>
    </section>
  </main>

  <!-- ===== Footer ===== -->
  <footer>
    <div class="footer-wrap">
      <div class="footer-grid">
        <div class="footer-col">
          <h4>회사</h4>
          <a href="#">회사 소개</a>
          <a href="#">채용</a>
          <a href="#">보도자료</a>
        </div>
        <div class="footer-col">
          <h4>정책</h4>
          <a href="#">이용약관</a>
          <a href="#">개인정보처리방침</a>
          <a href="#">쿠키 정책</a>
        </div>
        <div class="footer-col">
          <h4>지원</h4>
          <a href="#">도움말 센터</a>
          <a href="#">문의하기</a>
          <a href="#">신고/피드백</a>
        </div>
        <div class="footer-col">
          <h4>리소스</h4>
          <a href="#">개발자 문서</a>
          <a href="#">API</a>
          <a href="#">브랜드 가이드</a>
        </div>
      </div>
      <div class="copyright">
        © <span id="year"></span> hangle. 모든 권리 보유.
      </div>
    </div>
  </footer>
</div>

<script>
  // ===== 검색 단축키: '/' 포커스 =====
  const searchInput = document.querySelector('.search input');
  window.addEventListener('keydown', (e)=>{
    if(e.key === '/' && document.activeElement !== searchInput){
      e.preventDefault(); searchInput.focus();
    }
  });

  // ===== Theme Handling =====
  const root = document.documentElement;
  const toggleBtn = document.getElementById('themeToggle');
  const iconMoon = document.getElementById('icon-moon');
  const iconSun  = document.getElementById('icon-sun');
  const modeLabel= document.getElementById('modeLabel');

  const applyTheme = (mode) => {
    const isDark = mode === 'dark';
    root.classList.toggle('theme-dark', isDark);
    iconMoon.style.display = isDark ? 'none' : '';
    iconSun.style.display  = isDark ? '' : 'none';
    modeLabel.textContent  = isDark ? '라이트' : '다크';
    localStorage.setItem('theme', mode);
  };

  (function initTheme(){
    const saved = localStorage.getItem('theme');
    if(saved){ applyTheme(saved); }
    else{
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      applyTheme(prefersDark ? 'dark' : 'light');
    }
  })();

  toggleBtn.addEventListener('click', ()=>{
    const nowDark = root.classList.contains('theme-dark');
    applyTheme(nowDark ? 'light' : 'dark');
  });

  window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e=>{
    if(!localStorage.getItem('theme')){
      applyTheme(e.matches ? 'dark' : 'light');
    }
  });

  // ===== 로그인 상태 토글 (데모) =====
  const isLoggedIn = false; // ← 실제 로그인 상태에 맞게 서버에서 주입하세요.
  const loginBtn   = document.getElementById('loginBtn');
  const profileBtn = document.getElementById('profileBtn');
  const authCard   = document.getElementById('authCard');

  function renderAuthUI(){
    if(isLoggedIn){
      loginBtn.style.display   = 'none';
      profileBtn.style.display = 'flex';
      if(authCard) authCard.style.display = 'none'; // 본문 로그인 카드 숨김
    }else{
      loginBtn.style.display   = 'inline-flex';
      profileBtn.style.display = 'none';
      if(authCard) authCard.style.display = ''; // 본문 로그인 카드 표시
    }
  }
  renderAuthUI();

  // 데모용 로그인 버튼 (상단바 오른쪽)
  loginBtn.addEventListener('click', ()=> {
    alert('로그인 페이지로 이동합니다.'); // 실제 라우팅으로 교체
    location.href = '/login.html';
  });

  // 본문 카드의 로그인 버튼(데모)
  function mockLogin(){
    alert('로그인 처리 예시. 실제 인증 로직으로 교체하세요.');
  }

  // 프로필 버튼 클릭 시
  profileBtn.addEventListener('click', ()=> {
    location.href = '/profile.html';
  });

  // 푸터 연도
  document.getElementById('year').textContent = new Date().getFullYear();
</script>
</body>
</html>
